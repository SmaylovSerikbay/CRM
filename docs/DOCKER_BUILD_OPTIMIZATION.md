# ÐžÐ¿Ñ‚Ð¸Ð¼Ð¸Ð·Ð°Ñ†Ð¸Ñ ÑÐ±Ð¾Ñ€ÐºÐ¸ Docker

## ÐŸÑ€Ð¾Ð±Ð»ÐµÐ¼Ñ‹ Ð¼ÐµÐ´Ð»ÐµÐ½Ð½Ð¾Ð¹ ÑÐ±Ð¾Ñ€ÐºÐ¸

### ÐžÑÐ½Ð¾Ð²Ð½Ñ‹Ðµ Ð¿Ñ€Ð¸Ñ‡Ð¸Ð½Ñ‹:

1. **ÐžÑ‚ÑÑƒÑ‚ÑÑ‚Ð²Ð¸Ðµ ÐºÑÑˆÐ¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ñ ÑÐ»Ð¾ÐµÐ²** - Docker Ð¿ÐµÑ€ÐµÑÐ¾Ð±Ð¸Ñ€Ð°ÐµÑ‚ Ð²ÑÑ‘ Ñ Ð½ÑƒÐ»Ñ
2. **Ð£ÑÑ‚Ð°Ð½Ð¾Ð²ÐºÐ° Ð·Ð°Ð²Ð¸ÑÐ¸Ð¼Ð¾ÑÑ‚ÐµÐ¹ ÐºÐ°Ð¶Ð´Ñ‹Ð¹ Ñ€Ð°Ð·** - npm/pip Ð·Ð°Ð³Ñ€ÑƒÐ¶Ð°ÑŽÑ‚ Ð¿Ð°ÐºÐµÑ‚Ñ‹ Ð·Ð°Ð½Ð¾Ð²Ð¾
3. **ÐšÐ¾Ð¿Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ðµ Ð½ÐµÐ½ÑƒÐ¶Ð½Ñ‹Ñ… Ñ„Ð°Ð¹Ð»Ð¾Ð²** - ÑƒÐ²ÐµÐ»Ð¸Ñ‡Ð¸Ð²Ð°ÐµÑ‚ ÐºÐ¾Ð½Ñ‚ÐµÐºÑÑ‚ ÑÐ±Ð¾Ñ€ÐºÐ¸
4. **Ð˜ÑÐ¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ð½Ð¸Ðµ `--no-cache`** - Ð¾Ñ‚ÐºÐ»ÑŽÑ‡Ð°ÐµÑ‚ ÐºÑÑˆ Docker

## Ð§Ñ‚Ð¾ Ð±Ñ‹Ð»Ð¾ Ð¾Ð¿Ñ‚Ð¸Ð¼Ð¸Ð·Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¾

### 1. Backend (Python/Django)

**Ð‘Ñ‹Ð»Ð¾:**
```dockerfile
COPY . .
RUN pip install --no-cache-dir -r requirements.txt
```

**Ð¡Ñ‚Ð°Ð»Ð¾:**
```dockerfile
# ÐšÐ¾Ð¿Ð¸Ñ€ÑƒÐµÐ¼ Ñ‚Ð¾Ð»ÑŒÐºÐ¾ requirements.txt ÑÐ½Ð°Ñ‡Ð°Ð»Ð°
COPY requirements.txt .

# Ð˜ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐµÐ¼ mount cache Ð´Ð»Ñ pip
RUN --mount=type=cache,target=/root/.cache/pip \
    pip install --no-cache-dir -r requirements.txt

# ÐšÐ¾Ð¿Ð¸Ñ€ÑƒÐµÐ¼ Ð¾ÑÑ‚Ð°Ð»ÑŒÐ½Ñ‹Ðµ Ñ„Ð°Ð¹Ð»Ñ‹
COPY . .
```

**ÐŸÑ€ÐµÐ¸Ð¼ÑƒÑ‰ÐµÑÑ‚Ð²Ð°:**
- Ð¡Ð»Ð¾Ð¹ Ñ Ð·Ð°Ð²Ð¸ÑÐ¸Ð¼Ð¾ÑÑ‚ÑÐ¼Ð¸ ÐºÑÑˆÐ¸Ñ€ÑƒÐµÑ‚ÑÑ
- ÐŸÑ€Ð¸ Ð¸Ð·Ð¼ÐµÐ½ÐµÐ½Ð¸Ð¸ ÐºÐ¾Ð´Ð° Ð½Ðµ Ð¿ÐµÑ€ÐµÑƒÑÑ‚Ð°Ð½Ð°Ð²Ð»Ð¸Ð²Ð°ÑŽÑ‚ÑÑ Ð¿Ð°ÐºÐµÑ‚Ñ‹
- Ð£ÑÐºÐ¾Ñ€ÐµÐ½Ð¸Ðµ: **3-5 Ð¼Ð¸Ð½ÑƒÑ‚ â†’ 30-60 ÑÐµÐºÑƒÐ½Ð´**

### 2. Frontend (Next.js)

**Ð‘Ñ‹Ð»Ð¾:**
```dockerfile
COPY package.json ./
RUN npm install --production=false --legacy-peer-deps
```

**Ð¡Ñ‚Ð°Ð»Ð¾:**
```dockerfile
# ÐšÐ¾Ð¿Ð¸Ñ€ÑƒÐµÐ¼ package.json Ð˜ package-lock.json
COPY package.json package-lock.json* ./

# Ð˜ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐµÐ¼ npm ci (Ð±Ñ‹ÑÑ‚Ñ€ÐµÐµ Ñ‡ÐµÐ¼ npm install)
RUN --mount=type=cache,target=/root/.npm \
    npm ci --legacy-peer-deps
```

**ÐŸÑ€ÐµÐ¸Ð¼ÑƒÑ‰ÐµÑÑ‚Ð²Ð°:**
- `npm ci` Ð±Ñ‹ÑÑ‚Ñ€ÐµÐµ Ñ‡ÐµÐ¼ `npm install` (Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐµÑ‚ lock Ñ„Ð°Ð¹Ð»)
- ÐšÑÑˆÐ¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ðµ npm Ð¿Ð°ÐºÐµÑ‚Ð¾Ð²
- Ð”ÐµÑ‚ÐµÑ€Ð¼Ð¸Ð½Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð½Ð°Ñ ÑƒÑÑ‚Ð°Ð½Ð¾Ð²ÐºÐ°
- Ð£ÑÐºÐ¾Ñ€ÐµÐ½Ð¸Ðµ: **5-10 Ð¼Ð¸Ð½ÑƒÑ‚ â†’ 1-2 Ð¼Ð¸Ð½ÑƒÑ‚Ñ‹**

### 3. .dockerignore Ñ„Ð°Ð¹Ð»Ñ‹

Ð”Ð¾Ð±Ð°Ð²Ð»ÐµÐ½Ñ‹ Ð¸ÑÐºÐ»ÑŽÑ‡ÐµÐ½Ð¸Ñ Ð´Ð»Ñ:
- Ð¢ÐµÑÑ‚Ð¾Ð²Ñ‹Ñ… Ñ„Ð°Ð¹Ð»Ð¾Ð²
- Ð”Ð¾ÐºÑƒÐ¼ÐµÐ½Ñ‚Ð°Ñ†Ð¸Ð¸
- IDE ÐºÐ¾Ð½Ñ„Ð¸Ð³Ð¾Ð²
- Ð›Ð¾Ð³Ð¾Ð²
- ÐšÑÑˆÐµÐ¹

**Ð ÐµÐ·ÑƒÐ»ÑŒÑ‚Ð°Ñ‚:** Ð£Ð¼ÐµÐ½ÑŒÑˆÐµÐ½Ð¸Ðµ ÐºÐ¾Ð½Ñ‚ÐµÐºÑÑ‚Ð° ÑÐ±Ð¾Ñ€ÐºÐ¸ Ð½Ð° 50-70%

## Ð”Ð¾Ð¿Ð¾Ð»Ð½Ð¸Ñ‚ÐµÐ»ÑŒÐ½Ñ‹Ðµ Ð¾Ð¿Ñ‚Ð¸Ð¼Ð¸Ð·Ð°Ñ†Ð¸Ð¸

### 1. BuildKit (Ñ€ÐµÐºÐ¾Ð¼ÐµÐ½Ð´ÑƒÐµÑ‚ÑÑ)

Ð’ÐºÐ»ÑŽÑ‡Ð¸Ñ‚Ðµ BuildKit Ð´Ð»Ñ Docker:

```bash
# Linux/Mac
export DOCKER_BUILDKIT=1

# Windows PowerShell
$env:DOCKER_BUILDKIT=1

# Ð˜Ð»Ð¸ Ð² docker-compose.yml
COMPOSE_DOCKER_CLI_BUILD=1
DOCKER_BUILDKIT=1
```

**ÐŸÑ€ÐµÐ¸Ð¼ÑƒÑ‰ÐµÑÑ‚Ð²Ð°:**
- ÐŸÐ°Ñ€Ð°Ð»Ð»ÐµÐ»ÑŒÐ½Ð°Ñ ÑÐ±Ð¾Ñ€ÐºÐ° ÑÐ»Ð¾ÐµÐ²
- Ð£Ð»ÑƒÑ‡ÑˆÐµÐ½Ð½Ð¾Ðµ ÐºÑÑˆÐ¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ðµ
- ÐŸÐ¾Ð´Ð´ÐµÑ€Ð¶ÐºÐ° mount cache
- Ð£ÑÐºÐ¾Ñ€ÐµÐ½Ð¸Ðµ Ð´Ð¾ 50%

### 2. Multi-stage builds

Frontend ÑƒÐ¶Ðµ Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐµÑ‚ multi-stage:
- `deps` - ÑƒÑÑ‚Ð°Ð½Ð¾Ð²ÐºÐ° Ð·Ð°Ð²Ð¸ÑÐ¸Ð¼Ð¾ÑÑ‚ÐµÐ¹
- `builder` - ÑÐ±Ð¾Ñ€ÐºÐ° Ð¿Ñ€Ð¸Ð»Ð¾Ð¶ÐµÐ½Ð¸Ñ
- `runner` - Ñ„Ð¸Ð½Ð°Ð»ÑŒÐ½Ñ‹Ð¹ Ð¾Ð±Ñ€Ð°Ð·

**Ð ÐµÐ·ÑƒÐ»ÑŒÑ‚Ð°Ñ‚:** Ð¤Ð¸Ð½Ð°Ð»ÑŒÐ½Ñ‹Ð¹ Ð¾Ð±Ñ€Ð°Ð· Ð¼ÐµÐ½ÑŒÑˆÐµ Ð½Ð° 70%

### 3. Ð˜ÑÐ¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ð½Ð¸Ðµ .dockerignore

Ð’ÑÐµÐ³Ð´Ð° Ð¿Ñ€Ð¾Ð²ÐµÑ€ÑÐ¹Ñ‚Ðµ Ñ€Ð°Ð·Ð¼ÐµÑ€ ÐºÐ¾Ð½Ñ‚ÐµÐºÑÑ‚Ð°:

```bash
# ÐŸÑ€Ð¾Ð²ÐµÑ€Ð¸Ñ‚ÑŒ Ñ€Ð°Ð·Ð¼ÐµÑ€ ÐºÐ¾Ð½Ñ‚ÐµÐºÑÑ‚Ð°
docker build --no-cache -t test . 2>&1 | grep "Sending build context"

# Ð”Ð¾Ð»Ð¶Ð½Ð¾ Ð±Ñ‹Ñ‚ÑŒ < 50MB Ð´Ð»Ñ backend, < 100MB Ð´Ð»Ñ frontend
```

### 4. ÐšÑÑˆÐ¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ðµ Ð¼ÐµÐ¶Ð´Ñƒ ÑÐ±Ð¾Ñ€ÐºÐ°Ð¼Ð¸

Docker Ð°Ð²Ñ‚Ð¾Ð¼Ð°Ñ‚Ð¸Ñ‡ÐµÑÐºÐ¸ ÐºÑÑˆÐ¸Ñ€ÑƒÐµÑ‚ ÑÐ»Ð¾Ð¸, ÐµÑÐ»Ð¸:
- ÐšÐ¾Ð¼Ð°Ð½Ð´Ñ‹ Ð½Ðµ Ð¸Ð·Ð¼ÐµÐ½Ð¸Ð»Ð¸ÑÑŒ
- Ð¤Ð°Ð¹Ð»Ñ‹ Ð½Ðµ Ð¸Ð·Ð¼ÐµÐ½Ð¸Ð»Ð¸ÑÑŒ
- ÐŸÐ¾Ñ€ÑÐ´Ð¾Ðº ÐºÐ¾Ð¼Ð°Ð½Ð´ Ð½Ðµ Ð¸Ð·Ð¼ÐµÐ½Ð¸Ð»ÑÑ

**ÐŸÑ€Ð°Ð²Ð¸Ð»Ð¾:** ÐšÐ¾Ð¿Ð¸Ñ€ÑƒÐ¹Ñ‚Ðµ Ñ‡Ð°ÑÑ‚Ð¾ Ð¼ÐµÐ½ÑÑŽÑ‰Ð¸ÐµÑÑ Ñ„Ð°Ð¹Ð»Ñ‹ Ð² ÐºÐ¾Ð½Ñ†Ðµ

## Ð¡Ñ€Ð°Ð²Ð½ÐµÐ½Ð¸Ðµ Ð²Ñ€ÐµÐ¼ÐµÐ½Ð¸ ÑÐ±Ð¾Ñ€ÐºÐ¸

### Backend:

| ÐœÐµÑ‚Ð¾Ð´ | ÐŸÐµÑ€Ð²Ð°Ñ ÑÐ±Ð¾Ñ€ÐºÐ° | ÐŸÐ¾Ð²Ñ‚Ð¾Ñ€Ð½Ð°Ñ ÑÐ±Ð¾Ñ€ÐºÐ° |
|-------|---------------|------------------|
| Ð‘ÐµÐ· Ð¾Ð¿Ñ‚Ð¸Ð¼Ð¸Ð·Ð°Ñ†Ð¸Ð¸ | 5-7 Ð¼Ð¸Ð½ | 5-7 Ð¼Ð¸Ð½ |
| Ð¡ Ð¾Ð¿Ñ‚Ð¸Ð¼Ð¸Ð·Ð°Ñ†Ð¸ÐµÐ¹ | 3-4 Ð¼Ð¸Ð½ | 30-60 ÑÐµÐº |
| Ð¡ BuildKit | 2-3 Ð¼Ð¸Ð½ | 20-40 ÑÐµÐº |

### Frontend:

| ÐœÐµÑ‚Ð¾Ð´ | ÐŸÐµÑ€Ð²Ð°Ñ ÑÐ±Ð¾Ñ€ÐºÐ° | ÐŸÐ¾Ð²Ñ‚Ð¾Ñ€Ð½Ð°Ñ ÑÐ±Ð¾Ñ€ÐºÐ° |
|-------|---------------|------------------|
| Ð‘ÐµÐ· Ð¾Ð¿Ñ‚Ð¸Ð¼Ð¸Ð·Ð°Ñ†Ð¸Ð¸ | 10-15 Ð¼Ð¸Ð½ | 10-15 Ð¼Ð¸Ð½ |
| Ð¡ Ð¾Ð¿Ñ‚Ð¸Ð¼Ð¸Ð·Ð°Ñ†Ð¸ÐµÐ¹ | 5-7 Ð¼Ð¸Ð½ | 1-2 Ð¼Ð¸Ð½ |
| Ð¡ BuildKit | 3-5 Ð¼Ð¸Ð½ | 30-60 ÑÐµÐº |

## Ð ÐµÐºÐ¾Ð¼ÐµÐ½Ð´Ð°Ñ†Ð¸Ð¸

### 1. ÐÐµ Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐ¹Ñ‚Ðµ `--no-cache` Ð±ÐµÐ· Ð½ÐµÐ¾Ð±Ñ…Ð¾Ð´Ð¸Ð¼Ð¾ÑÑ‚Ð¸

```bash
# âŒ ÐŸÐ»Ð¾Ñ…Ð¾ (Ð²ÑÐµÐ³Ð´Ð° Ð¼ÐµÐ´Ð»ÐµÐ½Ð½Ð¾)
docker compose build --no-cache

# âœ… Ð¥Ð¾Ñ€Ð¾ÑˆÐ¾ (Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐ¹Ñ‚Ðµ ÐºÑÑˆ)
docker compose build

# âœ… Ð¢Ð¾Ð»ÑŒÐºÐ¾ Ð¿Ñ€Ð¸ Ð¿Ñ€Ð¾Ð±Ð»ÐµÐ¼Ð°Ñ…
docker compose build --no-cache backend  # Ñ‚Ð¾Ð»ÑŒÐºÐ¾ Ð¾Ð´Ð¸Ð½ ÑÐµÑ€Ð²Ð¸Ñ
```

### 2. Ð˜ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐ¹Ñ‚Ðµ BuildKit

Ð”Ð¾Ð±Ð°Ð²ÑŒÑ‚Ðµ Ð² `.env`:
```bash
COMPOSE_DOCKER_CLI_BUILD=1
DOCKER_BUILDKIT=1
```

### 3. Ð ÐµÐ³ÑƒÐ»ÑÑ€Ð½Ð¾ Ñ‡Ð¸ÑÑ‚Ð¸Ñ‚Ðµ ÐºÑÑˆ

```bash
# ÐžÑ‡Ð¸ÑÑ‚Ð¸Ñ‚ÑŒ Ð½ÐµÐ¸ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐµÐ¼Ñ‹Ðµ Ð¾Ð±Ñ€Ð°Ð·Ñ‹
docker image prune -a

# ÐžÑ‡Ð¸ÑÑ‚Ð¸Ñ‚ÑŒ build cache
docker builder prune

# ÐŸÐ¾Ð»Ð½Ð°Ñ Ð¾Ñ‡Ð¸ÑÑ‚ÐºÐ° (Ð¾ÑÑ‚Ð¾Ñ€Ð¾Ð¶Ð½Ð¾!)
docker system prune -a --volumes
```

### 4. Ð˜ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐ¹Ñ‚Ðµ package-lock.json

Ð”Ð»Ñ frontend Ð²ÑÐµÐ³Ð´Ð° ÐºÐ¾Ð¼Ð¼Ð¸Ñ‚ÑŒÑ‚Ðµ `package-lock.json`:
```bash
# Ð¡Ð¾Ð·Ð´Ð°Ñ‚ÑŒ/Ð¾Ð±Ð½Ð¾Ð²Ð¸Ñ‚ÑŒ lock Ñ„Ð°Ð¹Ð»
npm install

# Ð”Ð¾Ð±Ð°Ð²Ð¸Ñ‚ÑŒ Ð² git
git add package-lock.json
git commit -m "Add package-lock.json"
```

### 5. ÐžÐ¿Ñ‚Ð¸Ð¼Ð¸Ð·Ð¸Ñ€ÑƒÐ¹Ñ‚Ðµ requirements.txt

Ð”Ð»Ñ backend Ð³Ñ€ÑƒÐ¿Ð¿Ð¸Ñ€ÑƒÐ¹Ñ‚Ðµ Ð·Ð°Ð²Ð¸ÑÐ¸Ð¼Ð¾ÑÑ‚Ð¸:
```txt
# Core dependencies (Ñ€ÐµÐ´ÐºÐ¾ Ð¼ÐµÐ½ÑÑŽÑ‚ÑÑ)
Django==4.2.0
djangorestframework==3.14.0

# Project dependencies (Ñ‡Ð°ÑÑ‚Ð¾ Ð¼ÐµÐ½ÑÑŽÑ‚ÑÑ)
# ...
```

## ÐœÐ¾Ð½Ð¸Ñ‚Ð¾Ñ€Ð¸Ð½Ð³ ÑÐ±Ð¾Ñ€ÐºÐ¸

### ÐŸÑ€Ð¾Ð²ÐµÑ€ÐºÐ° Ð²Ñ€ÐµÐ¼ÐµÐ½Ð¸ ÑÐ±Ð¾Ñ€ÐºÐ¸:

```bash
# Linux/Mac
time docker compose -f docker-compose.blue-green.yml build

# Windows PowerShell
Measure-Command { docker compose -f docker-compose.blue-green.yml build }
```

### ÐÐ½Ð°Ð»Ð¸Ð· ÑÐ»Ð¾ÐµÐ²:

```bash
# ÐŸÐ¾ÑÐ¼Ð¾Ñ‚Ñ€ÐµÑ‚ÑŒ Ð¸ÑÑ‚Ð¾Ñ€Ð¸ÑŽ Ð¾Ð±Ñ€Ð°Ð·Ð°
docker history backend:latest

# Ð Ð°Ð·Ð¼ÐµÑ€ ÐºÐ°Ð¶Ð´Ð¾Ð³Ð¾ ÑÐ»Ð¾Ñ
docker history backend:latest --human --no-trunc
```

### Dive - Ð¸Ð½ÑÑ‚Ñ€ÑƒÐ¼ÐµÐ½Ñ‚ Ð´Ð»Ñ Ð°Ð½Ð°Ð»Ð¸Ð·Ð°:

```bash
# Ð£ÑÑ‚Ð°Ð½Ð¾Ð²ÐºÐ°
# Linux: wget https://github.com/wagoodman/dive/releases/download/v0.11.0/dive_0.11.0_linux_amd64.deb
# Mac: brew install dive
# Windows: choco install dive

# ÐÐ½Ð°Ð»Ð¸Ð· Ð¾Ð±Ñ€Ð°Ð·Ð°
dive backend:latest
```

## Troubleshooting

### ÐŸÑ€Ð¾Ð±Ð»ÐµÐ¼Ð°: Ð¡Ð±Ð¾Ñ€ÐºÐ° Ð²ÑÑ‘ Ñ€Ð°Ð²Ð½Ð¾ Ð¼ÐµÐ´Ð»ÐµÐ½Ð½Ð°Ñ

**Ð ÐµÑˆÐµÐ½Ð¸Ðµ:**
1. ÐŸÑ€Ð¾Ð²ÐµÑ€ÑŒÑ‚Ðµ BuildKit: `docker buildx version`
2. ÐžÑ‡Ð¸ÑÑ‚Ð¸Ñ‚Ðµ ÐºÑÑˆ: `docker builder prune`
3. ÐŸÑ€Ð¾Ð²ÐµÑ€ÑŒÑ‚Ðµ .dockerignore
4. Ð˜ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐ¹Ñ‚Ðµ `docker compose build --progress=plain` Ð´Ð»Ñ Ð´ÐµÑ‚Ð°Ð»ÑŒÐ½Ð¾Ð³Ð¾ Ð²Ñ‹Ð²Ð¾Ð´Ð°

### ÐŸÑ€Ð¾Ð±Ð»ÐµÐ¼Ð°: ÐžÑˆÐ¸Ð±ÐºÐ° "no space left on device"

**Ð ÐµÑˆÐµÐ½Ð¸Ðµ:**
```bash
# ÐžÑ‡Ð¸ÑÑ‚Ð¸Ñ‚ÑŒ Ð²ÑÑ‘
docker system prune -a --volumes

# Ð£Ð²ÐµÐ»Ð¸Ñ‡Ð¸Ñ‚ÑŒ Ñ€Ð°Ð·Ð¼ÐµÑ€ Docker Desktop (Windows/Mac)
# Settings â†’ Resources â†’ Disk image size
```

### ÐŸÑ€Ð¾Ð±Ð»ÐµÐ¼Ð°: npm ci Ð½Ðµ Ñ€Ð°Ð±Ð¾Ñ‚Ð°ÐµÑ‚

**Ð ÐµÑˆÐµÐ½Ð¸Ðµ:**
```bash
# Ð¡Ð¾Ð·Ð´Ð°Ñ‚ÑŒ package-lock.json
cd frontend
npm install
git add package-lock.json
git commit -m "Add lock file"
```

## Ð˜Ñ‚Ð¾Ð³Ð¾Ð²Ñ‹Ðµ Ñ€ÐµÐºÐ¾Ð¼ÐµÐ½Ð´Ð°Ñ†Ð¸Ð¸

âœ… **Ð’ÑÐµÐ³Ð´Ð°:**
- Ð˜ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐ¹Ñ‚Ðµ BuildKit
- ÐšÐ¾Ð¼Ð¼Ð¸Ñ‚ÑŒÑ‚Ðµ lock Ñ„Ð°Ð¹Ð»Ñ‹ (package-lock.json)
- ÐžÐ±Ð½Ð¾Ð²Ð»ÑÐ¹Ñ‚Ðµ .dockerignore
- ÐšÐ¾Ð¿Ð¸Ñ€ÑƒÐ¹Ñ‚Ðµ Ð·Ð°Ð²Ð¸ÑÐ¸Ð¼Ð¾ÑÑ‚Ð¸ Ð¾Ñ‚Ð´ÐµÐ»ÑŒÐ½Ð¾ Ð¾Ñ‚ ÐºÐ¾Ð´Ð°

âœ… **Ð ÐµÐ³ÑƒÐ»ÑÑ€Ð½Ð¾:**
- ÐžÑ‡Ð¸Ñ‰Ð°Ð¹Ñ‚Ðµ Ð½ÐµÐ¸ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐµÐ¼Ñ‹Ðµ Ð¾Ð±Ñ€Ð°Ð·Ñ‹
- ÐŸÑ€Ð¾Ð²ÐµÑ€ÑÐ¹Ñ‚Ðµ Ñ€Ð°Ð·Ð¼ÐµÑ€ Ð¾Ð±Ñ€Ð°Ð·Ð¾Ð²
- ÐžÐ±Ð½Ð¾Ð²Ð»ÑÐ¹Ñ‚Ðµ Ð±Ð°Ð·Ð¾Ð²Ñ‹Ðµ Ð¾Ð±Ñ€Ð°Ð·Ñ‹

âŒ **Ð˜Ð·Ð±ÐµÐ³Ð°Ð¹Ñ‚Ðµ:**
- `--no-cache` Ð±ÐµÐ· Ð¿Ñ€Ð¸Ñ‡Ð¸Ð½Ñ‹
- ÐšÐ¾Ð¿Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ñ Ð²ÑÐµÐ³Ð¾ Ð¿Ñ€Ð¾ÐµÐºÑ‚Ð° Ð² Ð½Ð°Ñ‡Ð°Ð»Ðµ
- Ð£ÑÑ‚Ð°Ð½Ð¾Ð²ÐºÐ¸ Ð½ÐµÐ½ÑƒÐ¶Ð½Ñ‹Ñ… Ð¿Ð°ÐºÐµÑ‚Ð¾Ð²
- Ð‘Ð¾Ð»ÑŒÑˆÐ¸Ñ… Ñ„Ð°Ð¹Ð»Ð¾Ð² Ð² ÐºÐ¾Ð½Ñ‚ÐµÐºÑÑ‚Ðµ ÑÐ±Ð¾Ñ€ÐºÐ¸

## Ð ÐµÐ·ÑƒÐ»ÑŒÑ‚Ð°Ñ‚

ÐŸÐ¾ÑÐ»Ðµ Ð¾Ð¿Ñ‚Ð¸Ð¼Ð¸Ð·Ð°Ñ†Ð¸Ð¸:
- **ÐŸÐµÑ€Ð²Ð°Ñ ÑÐ±Ð¾Ñ€ÐºÐ°:** 5-10 Ð¼Ð¸Ð½ÑƒÑ‚
- **ÐŸÐ¾Ð²Ñ‚Ð¾Ñ€Ð½Ð°Ñ ÑÐ±Ð¾Ñ€ÐºÐ°:** 1-3 Ð¼Ð¸Ð½ÑƒÑ‚Ñ‹
- **Blue-green Ð´ÐµÐ¿Ð»Ð¾Ð¹:** 5-7 Ð¼Ð¸Ð½ÑƒÑ‚ (Ð²Ð¼ÐµÑÑ‚Ð¾ 15-20)

ðŸš€ **Ð£ÑÐºÐ¾Ñ€ÐµÐ½Ð¸Ðµ Ð² 3-5 Ñ€Ð°Ð·!**
