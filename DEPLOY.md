# üöÄ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –¥–µ–ø–ª–æ–π

## –î–ª—è Windows

### –ü–µ—Ä–≤–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ (–æ–¥–∏–Ω —Ä–∞–∑)

**–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è):**

```cmd
setup-ssh.bat
```

–°–∫—Ä–∏–ø—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞—Å—Ç SSH –∫–ª—é—á –∏ –Ω–∞—Å—Ç—Ä–æ–∏—Ç –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ —Å–µ—Ä–≤–µ—Ä—É.

**–ò–ª–∏ –≤—Ä—É—á–Ω—É—é:**

1. **–°–æ–∑–¥–∞—Ç—å SSH –∫–ª—é—á:**
   ```cmd
   ssh-keygen -t rsa -b 4096
   ```
   –ù–∞–∂–º–∏—Ç–µ Enter 3 —Ä–∞–∑–∞

2. **–°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å –∫–ª—é—á –Ω–∞ —Å–µ—Ä–≤–µ—Ä:**
   ```powershell
   type %USERPROFILE%\.ssh\id_rsa.pub | ssh root@89.207.255.13 "cat >> ~/.ssh/authorized_keys"
   ```
   –í–≤–µ–¥–∏—Ç–µ –ø–∞—Ä–æ–ª—å: `r6aQ-osxs0GERy8=`

3. **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å:**
   ```cmd
   ssh root@89.207.255.13
   ```
   –î–æ–ª–∂–Ω–æ –ø–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –±–µ–∑ –ø–∞—Ä–æ–ª—è ‚úÖ

### –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

–ü–æ—Å–ª–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –¥–µ–ø–ª–æ–π –¥–µ–ª–∞–µ—Ç—Å—è –æ–¥–Ω–æ–π –∫–æ–º–∞–Ω–¥–æ–π:

```cmd
deploy.bat "–æ–ø–∏—Å–∞–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π"
```

–ò–ª–∏ –±—ã—Å—Ç—Ä—ã–π –¥–µ–ø–ª–æ–π –±–µ–∑ rebuild:

```cmd
deploy-quick.bat "–æ–ø–∏—Å–∞–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π"
```

---

## –î–ª—è Linux/Mac

### –ü–µ—Ä–≤–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ (–æ–¥–∏–Ω —Ä–∞–∑)

1. **–°–æ–∑–¥–∞—Ç—å SSH –∫–ª—é—á:**
   ```bash
   ssh-keygen -t rsa -b 4096
   ```

2. **–°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å –Ω–∞ —Å–µ—Ä–≤–µ—Ä:**
   ```bash
   ssh-copy-id root@89.207.255.13
   ```
   –ü–∞—Ä–æ–ª—å: `r6aQ-osxs0GERy8=`

3. **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å:**
   ```bash
   ssh root@89.207.255.13
   ```

### –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

```bash
make deploy
```

–ò–ª–∏ –±—ã—Å—Ç—Ä—ã–π –¥–µ–ø–ª–æ–π:

```bash
make deploy-quick
```

---

## –ß—Ç–æ –¥–µ–ª–∞–µ—Ç –¥–µ–ø–ª–æ–π?

1. ‚úÖ –î–æ–±–∞–≤–ª—è–µ—Ç –≤—Å–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ git
2. ‚úÖ –°–æ–∑–¥–∞–µ—Ç –∫–æ–º–º–∏—Ç —Å –≤–∞—à–∏–º —Å–æ–æ–±—â–µ–Ω–∏–µ–º
3. ‚úÖ –ü—É—à–∏—Ç –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
4. ‚úÖ –ü–æ–¥–∫–ª—é—á–∞–µ—Ç—Å—è –∫ —Å–µ—Ä–≤–µ—Ä—É
5. ‚úÖ –û–±–Ω–æ–≤–ª—è–µ—Ç –∫–æ–¥ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ
6. ‚úÖ –ü–µ—Ä–µ—Å–æ–±–∏—Ä–∞–µ—Ç Docker –æ–±—Ä–∞–∑—ã
7. ‚úÖ –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞–µ—Ç –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã

**–í—Å—ë –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏!** üéâ

---

## –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã

### Windows

```cmd
server-logs.bat       # –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤
server-connect.bat    # –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ —Å–µ—Ä–≤–µ—Ä—É
```

### Linux/Mac

```bash
make server-logs      # –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤
make server-status    # –°—Ç–∞—Ç—É—Å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤
make server-shell     # –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ —Å–µ—Ä–≤–µ—Ä—É
```

---

## –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ (–ø–µ—Ä–≤—ã–π —Ä–∞–∑)

–ü–æ–¥–∫–ª—é—á–∏—Ç–µ—Å—å –∫ —Å–µ—Ä–≤–µ—Ä—É –∏ –≤—ã–ø–æ–ª–Ω–∏—Ç–µ:

```bash
# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å Docker
curl -fsSL https://get.docker.com -o get-docker.sh
sh get-docker.sh

# –ö–ª–æ–Ω–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–æ–µ–∫—Ç
cd /root
git clone –í–ê–®_–†–ï–ü–û–ó–ò–¢–û–†–ò–ô_URL crm-medical
cd crm-medical

# –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –æ–∫—Ä—É–∂–µ–Ω–∏–µ
cp .env.prod .env
nano .env  # –û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏

# –ó–∞–ø—É—Å—Ç–∏—Ç—å
docker compose -f docker-compose.yml build
docker compose -f docker-compose.yml up -d
```

---

## Troubleshooting

### –û—à–∏–±–∫–∞: Permission denied (publickey)
SSH –∫–ª—é—á –Ω–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω. –ü–æ–≤—Ç–æ—Ä–∏—Ç–µ —à–∞–≥–∏ –∏–∑ —Ä–∞–∑–¥–µ–ª–∞ "–ü–µ—Ä–≤–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞"

### –û—à–∏–±–∫–∞: git push failed
```bash
git remote add origin –í–ê–®_–†–ï–ü–û–ó–ò–¢–û–†–ò–ô_URL
```

### –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã –Ω–µ –∑–∞–ø—É—Å–∫–∞—é—Ç—Å—è
```bash
ssh root@89.207.255.13
cd /root/crm-medical
docker compose logs
```

---

## üìñ –ü–æ–¥—Ä–æ–±–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

- **Windows:** [docs/DEPLOY_WINDOWS.md](./docs/DEPLOY_WINDOWS.md)
- **Linux/Mac:** [docs/DEPLOY_SETUP.md](./docs/DEPLOY_SETUP.md)
- **–®–ø–∞—Ä–≥–∞–ª–∫–∞:** [DEPLOY_CHEATSHEET.md](./DEPLOY_CHEATSHEET.md)

---

## –°–µ—Ä–≤–µ—Ä

- **IP:** 89.207.255.13
- **User:** root
- **–ü—É—Ç—å:** /root/crm-medical
